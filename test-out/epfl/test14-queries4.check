nVars=1000
nVars=2000
/*****************************************
  Emitting Generated Code                  
*******************************************/
import scala.virtualization.lms.epfl.test14.Schema
class staged$0 extends ((Unit)=>(Unit)) {
def apply(x0:Unit): Unit = {
val x2469 = println("expertise2(\"abstract\"):")
val x1066 = Schema.org.departments.flatMap { x910 => 
val x1059 = Schema.org.employees.flatMap { x1002 => 
val x912 = x910.dpt
val x1003 = x1002.dpt
val x1004 = x912 == x1003
val x1052 = Schema.org.tasks.flatMap { x1039 => 
val x1007 = x1002.emp
val x1040 = x1039.emp
val x1041 = x1007 == x1040
val x1044 = x1039.tsk
val x1047 = x1044 == "abstract"
val x1049 = x1041 && x1047
val x1051 = if (x1049) {
val x580 = new Schema.Record { val ignore = () }
val x607 = List(x580)
x607
} else {
val x19 = List()
x19
}
x1051
}
val x1053 = x1052.isEmpty
val x1056 = x1004 && x1053
val x1058 = if (x1056) {
val x580 = new Schema.Record { val ignore = () }
val x607 = List(x580)
x607
} else {
val x19 = List()
x19
}
x1058
}
val x1060 = x1059.isEmpty
val x1065 = if (x1060) {
val x912 = x910.dpt
val x1063 = new Schema.Record { val dpt = x912 }
val x1064 = List(x1063)
x1064
} else {
val x19 = List()
x19
}
x1065
}
val x2470 = println(x1066)
x2470
}
}
/*****************************************
  End of Generated Code                  
*******************************************/

warning: there were 9 feature warnings; re-run with -feature for details
one warning found
compilation: ok
expertise2("abstract"):
List({dpt:Quality}, {dpt:Research})
